name       : cantata
version    : 2.2.0
release    : 4
source     :
    - https://github.com/CDrummond/cantata/releases/download/v2.2.0/cantata-2.2.0.tar.bz2 : c84691eb17711118d3c512d70cb422267f7a137290082cdd1ff0a871b4a8e5c0
license    : GPL-3.0
component  : multimedia.audio
summary    : Cantata is a graphical client for MPD
description: |
    Cantata is a (yet another!) client for the music player daemon (MPD). 
    Originally started as a fork of QtMPC, the code is now *very* different. 
    The interface is very configurable - most views can be shown as either a 
    list or tree structure.
builddeps  :
    - pkgconfig(gl)
    - pkgconfig(libavcodec)
    - pkgconfig(libcddb)
    - pkgconfig(libcdio_paranoia)
    - pkgconfig(libmpg123)
    - pkgconfig(libmtp)
    - pkgconfig(libmusicbrainz5)
    - pkgconfig(libvlc)
    - pkgconfig(taglib)
    - pkgconfig(Qt5Multimedia)
    - pkgconfig(Qt5Svg)
    - pkgconfig(Qt5UiTools)
    - media-player-info
rundeps    :
    - font-awesome-ttf
    - mpd
    - perl-uri
setup      : |
    %patch -p1 < $pkgfiles/Fix-qt-510.patch
    %cmake . -DCANTATA_HELPERS_LIB_DIR=%libdir%
build      : |
    %make
install    : |
    %make_install

    # use system font
    rm -f $installdir/usr/share/cantata/fonts/fontawesome-webfont.ttf
    ln -s /usr/share/fonts/truetype/fontawesome/fontawesome.ttf $installdir/usr/share/cantata/fonts/fontawesome-webfont.ttf
